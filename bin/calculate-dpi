#!/usr/bin/env bash


ceil() {
  echo "define ceil (x) {if (x<0) {return x/1} \
        else {if (scale(x)==0) {return x} \
        else {return x/1 + 1 }}} ; ceil($1)" | bc
}


value=$(xrandr | grep -w connected | head -1 | grep -E -o '([0-9]+)mm' | head -1 | sed 's#mm##')
width=$(xrandr | grep -w connected | head -1 | grep -E -o 'primary [0-9]+' | head -1 | sed 's#primary ##')

echo "Display width $value"
echo "Resolution width $width"
sum="$width / (($value/10) / 2.54)"

echo "Sum '$sum'"

ceil $(echo "$sum" | bc -l)
